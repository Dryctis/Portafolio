@import "tailwindcss";

/* ===== Base ===== */
:root{
  --background:#f6f7fb;
  --foreground:#0f172a;
  --card:#ffffff;
  --border:rgba(2,6,23,0.08);
  --muted:rgba(2,6,23,0.6);

  --accent:#22d3a6;
  --accent-2: color-mix(in oklab, var(--accent) 70%, white);
  --on-accent:#ffffff;
  --glow-aux:#60efff;
}
.dark{
  --background:#0b0b1e;
  --foreground:#e5e7eb;
  --card:rgba(255,255,255,0.06);
  --border:rgba(255,255,255,0.12);
  --muted:rgba(255,255,255,0.72);
}

/* Tailwind v4 → tokens */
@theme inline{
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-border: var(--border);
  --color-muted: var(--muted);
  --color-accent: var(--accent);
  --color-onaccent: var(--on-accent);
}

html{ scroll-behavior:smooth; }
::selection{ background:var(--accent); color:#0b0b1e; }

/* ===== Temas ===== */
.theme-pumpkin{
  --accent:#fe7f2d;
  --accent-2:#ffb27a;
  --on-accent:#ffffff;
  --glow-aux:#335a70;

  --background:#fff4ec;
  --foreground:#1b2430;
  --card:#ffffff;
}
.theme-pumpkin.dark{
  --background:#233d4d;
  --foreground:#eaf2f7;
  --card:rgba(255,255,255,0.06);
  --border:rgba(255,255,255,0.14);
  --muted:rgba(255,255,255,0.72);
  --glow-aux:#99b6c7;
}

.theme-deepblue{
  --background:#f5f7fb;
  --foreground:#0b1220;
  --card:#ffffff;
  --accent:#8b5cf6;
  --accent-2:#22d3ee;
  --on-accent:#ffffff;
}
.theme-deepblue.dark{
  --background:#0b0b1e;
  --foreground:#e6edf3;
  --card:rgba(255,255,255,0.06);
  --border:rgba(255,255,255,0.12);
  --muted:rgba(255,255,255,0.72);
}

/* ===== Fondo / Ambientación ===== */

/* grano sutil (muy bajo para no lavar el canvas) */
.neon-surface{
  position:relative;
  isolation:isolate;
  background:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1600' height='1200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.02'/%3E%3C/svg%3E")
    no-repeat center / cover;
}

/* base común para overlays */
.neon-surface::before,
.neon-grid::before,
.neon-vignette::after{
  content:"";
  position:fixed;
  inset:0;
  pointer-events:none;
}

/* glows principales — sin blur para efecto “glass” real */
.neon-surface::before{
  z-index:0;
  background:
    radial-gradient(70rem 34rem at 14% 6%,
      color-mix(in oklab, var(--accent) 26%, transparent) 0%, transparent 70%),
    radial-gradient(70rem 34rem at 86% 12%,
      color-mix(in oklab, var(--accent-2) 22%, transparent) 0%, transparent 72%),
    radial-gradient(85rem 30rem at 50% -6%,
      color-mix(in oklab, var(--accent) 16%, transparent) 0%, transparent 72%);
  filter: saturate(115%);      /* ← sin blur */
  opacity:.16;                 /* ← mucho más transparente */
}

/* grid sutil — muy tenue y sin mezclar fuerte */
.neon-grid::before{
  z-index:1;
  background:
    repeating-linear-gradient(0deg, rgba(0,0,0,.03) 0 1px, transparent 1px 3px),
    radial-gradient(rgba(0,0,0,.03) 1px, transparent 1px);
  background-size: 100% 12px, 18px 18px;
  mix-blend-mode: normal;      /* ← quitamos overlay para no “lavar” */
  opacity:.06;
  -webkit-mask-image: radial-gradient(130% 110% at 50% 20%, #000 60%, transparent 100%);
          mask-image: radial-gradient(130% 110% at 50% 20%, #000 60%, transparent 100%);
}

/* viñeta — apenas perceptible */
.neon-vignette::after{
  z-index:2;
  background: radial-gradient(120% 120% at 50% 50%, transparent 60%, rgba(0,0,0,.04) 100%);
}

/* ajustes dark */
.dark .neon-surface::before{ filter:saturate(125%); opacity:.28; }
.dark .neon-grid::before{ opacity:.10; }
.dark .neon-vignette::after{
  background: radial-gradient(120% 120% at 50% 50%, transparent 58%, rgba(0,0,0,.10) 100%);
}

/* contenedor del canvas OGL (Prism) */
.prism-container{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  pointer-events:none;
}

/* ===== Utilidades para tarjetas “glass” (opcional) ===== */
/* No cambian variables ni rompen estilos existentes */
.card-translucent{
  background-color: color-mix(in oklab, var(--card) 70%, transparent);
  border-color: color-mix(in oklab, var(--border) 70%, transparent);
  backdrop-filter: blur(2px) saturate(120%);
}
.card-transparent{
  background-color: color-mix(in oklab, var(--card) 55%, transparent);
  border-color: color-mix(in oklab, var(--border) 55%, transparent);
  backdrop-filter: blur(2px) saturate(120%);
}

/* ===== Opt-out de overlays dentro de la página con Prism de fondo ===== */
.prism-page .neon-surface::before,
.prism-page .neon-grid::before,
.prism-page .neon-vignette::after{
  display:none !important;
}

/* Safety extra: si algún otro bloque con clase “neon-*” añade pseudo-overlays */
.prism-page [class*="neon-"]::before,
.prism-page [class*="neon-"]::after{
  display:none !important;
}
